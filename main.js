(()=>{"use strict";var e={16:(e,n,t)=>{t.d(n,{A:()=>o});var i=t(601),s=t.n(i),r=t(314),a=t.n(r)()(s());a.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  cursor: none; \n}\n\n.container {\n  max-width: 800px;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.97);\n  border-radius: 25px;\n  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);\n  overflow: hidden;\n  border: 3px solid #4cc9f0;\n  position: relative;\n}\n\n.container::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 20% 80%, rgba(76, 201, 240, 0.1), transparent 50%),\n    radial-gradient(circle at 80% 20%, rgba(247, 37, 133, 0.05), transparent 50%);\n  pointer-events: none;\n  border-radius: 25px;\n  z-index: -1;\n}\n\n.header {\n  background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);\n  color: #f8f9fa;\n  text-align: center;\n  padding: 35px 20px;\n  position: relative;\n  overflow: hidden;\n}\n\n.header h1 {\n  font-size: 2.8rem;\n  margin-bottom: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n  letter-spacing: 1px;\n}\n\n.header h1 i {\n  color: #4cc9f0;\n  text-shadow: 0 0 10px rgba(76, 201, 240, 0.5);\n}\n\n.subtitle {\n  font-size: 1.2rem;\n  opacity: 0.95;\n  color: rgba(248, 249, 250, 0.9);\n  max-width: 600px;\n  margin: 0 auto;\n  line-height: 1.5;\n}\n\n.game-info {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding: 25px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border-bottom: 3px solid #4361ee;\n}\n\n.stats {\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  font-size: 18px;\n}\n\n.stat {\n  background: white;\n  padding: 10px 20px;\n  border-radius: 10px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.stat-label {\n  font-weight: bold;\n  margin-right: 10px;\n  color: #3a0ca3;\n}\n\n.stat-value {\n  font-family: monospace;\n  font-size: 1.8rem;\n  font-weight: 800;\n  color: #7209b7;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n#score,\n#time {\n  font-size: 1.8rem;\n}\n\n#missed {\n  color: #f44336;\n}\n\n.stat i {\n  font-size: 1.8rem;\n  color: #4361ee;\n}\n\n.btn {\n  background: linear-gradient(135deg, #f72585 0%, #b5179e 100%);\n  color: white;\n  border: none;\n  padding: 14px 28px;\n  border-radius: 50px;\n  font-size: 1.1rem;\n  font-weight: bold;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px rgba(247, 37, 133, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n\n.btn::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: 0.6s;\n}\n\n.btn:hover::after {\n  left: 100%;\n}\n\n.btn:hover {\n  transform: translateY(-4px) scale(1.05);\n  box-shadow: 0 10px 25px rgba(247, 37, 133, 0.4);\n  background: linear-gradient(135deg, #ff2d95 0%, #c71da8 100%);\n}\n\n.btn:active {\n  transform: translateY(-2px);\n}\n\n.btn-secondary {\n  background: linear-gradient(135deg, #4cc9f0 0%, #4361ee 100%);\n}\n\n.btn-secondary:hover {\n  background: linear-gradient(135deg, #4cc9f0 0%, #4361ee 100%);\n  box-shadow: 0 10px 25px rgba(76, 201, 240, 0.4);\n}\n\n.controls {\n  padding: 25px;\n  text-align: center;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border-top: 3px solid #4361ee;\n}\n\n.game-board-container {\n  padding: 30px;\n  background: linear-gradient(135deg, #f1faee 0%, #a8dadc 100%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 500px;\n  border-bottom: 3px solid #4361ee;\n  cursor: none; \n}\n\n.game-board {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: repeat(4, 1fr);\n  gap: 15px;\n  width: 100%;\n  max-width: 500px;\n  aspect-ratio: 1;\n  margin: 0 auto;\n  cursor: none; \n}\n\n.hole {\n  background: linear-gradient(135deg, #7209b7 0%, #560bad 100%);\n  position: relative;\n  overflow: hidden;\n  cursor: none; \n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 50%;\n  border: 3px solid #3a0ca3;\n  box-shadow: \n    inset 0 -20px 40px rgba(0, 0, 0, 0.6),\n    0 8px 20px rgba(0, 0, 0, 0.3);\n  width: 100%;\n  padding-bottom: 100%;\n  position: relative;\n}\n\n.hole::before {\n  content: '';\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  right: 10%;\n  bottom: 10%;\n  background: radial-gradient(circle at 30% 30%, #7209b7, #560bad);\n  border-radius: 50%;\n  z-index: 1;\n  box-shadow: inset 0 10px 30px rgba(255, 255, 255, 0.1);\n}\n\n.hole::after {\n  content: '';\n  position: absolute;\n  top: 15%;\n  left: 15%;\n  right: 15%;\n  height: 25%;\n  background: radial-gradient(ellipse at center, \n    rgba(255, 255, 255, 0.25), \n    rgba(255, 255, 255, 0.05) 60%, \n    transparent 80%);\n  border-radius: 50%;\n  z-index: 2;\n}\n\n.hole:hover {\n  transform: scale(0.96);\n  box-shadow: \n    inset 0 -20px 40px rgba(0, 0, 0, 0.7),\n    0 6px 15px rgba(0, 0, 0, 0.4);\n  border-color: #4cc9f0;\n}\n\n.hole-inner {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: none; \n}\n\n.image-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 3;\n  position: relative;\n  cursor: none; \n}\n\n.dwarf {\n  width: 70%;\n  height: 70%;\n  object-fit: contain;\n  cursor: none; \n  pointer-events: auto;\n  user-select: none;\n  -webkit-user-drag: none;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: transform, opacity;\n  filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));\n  z-index: 4;\n  border-radius: 10%;\n}\n\n.dwarf:hover {\n  transform: scale(1.15);\n  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.5));\n}\n\n.dwarf.active {\n  animation: popUp 0.4s ease;\n}\n\n.hammer-cursor {\n  position: fixed;\n  font-size: 24px;\n  pointer-events: none;\n  z-index: 10000;\n  transform: translate(-50%, -50%);\n  transition: transform 0.1s;\n  display: block; \n  cursor: none; \n}\n\n.hammer-hit {\n  transform: translate(-50%, -50%) rotate(-45deg) scale(1.2);\n}\n\n.hole.miss {\n  background: linear-gradient(135deg, #ff4d6d 0%, #c9184a 100%);\n  border-color: #ff4d6d;\n  animation: shake 0.5s ease;\n}\n\n.hit-glow {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(circle at center, rgba(247, 37, 133, 0.3), transparent 70%);\n  border-radius: 50%;\n  z-index: 5;\n  animation: hitGlow 0.6s ease;\n}\n\n@keyframes popUp {\n  0% {\n    transform: scale(0.8) translateY(25px);\n    opacity: 0.5;\n  }\n  70% {\n    transform: scale(1.05) translateY(-5px);\n  }\n  100% {\n    transform: scale(1) translateY(0);\n    opacity: 1;\n  }\n}\n\n@keyframes heartbeat {\n  0%, 100% {\n    transform: scale(1);\n  }\n  25% {\n    transform: scale(1.15);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  75% {\n    transform: scale(1.15);\n  }\n}\n\n@keyframes shake {\n  0%, 100% {\n    transform: translateX(0);\n  }\n  20%, 60% {\n    transform: translateX(-5px);\n  }\n  40%, 80% {\n    transform: translateX(5px);\n  }\n}\n\n@keyframes scorePop {\n  0% {\n    transform: scale(1);\n    color: #7209b7;\n  }\n  50% {\n    transform: scale(1.5);\n    color: #f72585;\n    text-shadow: 0 0 15px rgba(247, 37, 133, 0.5);\n  }\n  100% {\n    transform: scale(1);\n    color: #7209b7;\n  }\n}\n\n@keyframes glow {\n  0%, 100% {\n    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));\n  }\n  50% {\n    filter: drop-shadow(0 0 25px rgba(247, 37, 133, 0.7));\n  }\n}\n\n@keyframes hitGlow {\n  0% { opacity: 0; transform: scale(0.5); }\n  50% { opacity: 1; transform: scale(1.1); }\n  100% { opacity: 0; transform: scale(1.5); }\n}\n\n.hit-animation {\n  animation: heartbeat 0.4s ease, glow 0.6s ease;\n}\n\n.score-animation {\n  animation: scorePop 0.4s ease;\n}",""]);const o=a},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var r={},a=[],o=0;o<e.length;o++){var l=e[o],c=i.base?l[0]+i.base:l[0],d=r[c]||0,h="".concat(c," ").concat(d);r[c]=d+1;var m=t(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)n[m].references++,n[m].updater(u);else{var p=s(u,i);i.byIndex=o,n.splice(o,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function s(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,s){var r=i(e=e||[],s=s||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var o=t(r[a]);n[o].references--}for(var l=i(e,s),c=0;c<r.length;c++){var d=t(r[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}r=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,i,s,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),n.push(d))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,s&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(i){var s=n[i];if(void 0!==s)return s.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;globalThis.importScripts&&(e=globalThis.location+"");var n=globalThis.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=i[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.nc=void 0;var i=t(72),s=t.n(i),r=t(825),a=t.n(r),o=t(659),l=t.n(o),c=t(56),d=t.n(c),h=t(540),m=t.n(h),u=t(113),p=t.n(u),g=t(16),b={};b.styleTagTransform=p(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=m(),s()(g.A,b),g.A&&g.A.locals&&g.A.locals;const f=t.p+"2dbd01ce16c0fa83cb67.png";class x{constructor(e){this.size=e,this.totalCells=e*e,this.element=document.getElementById("gameBoard"),this.cells=[]}render(){this.element.innerHTML="",this.cells=[];for(let e=0;e<this.totalCells;e++){const n=document.createElement("div");n.className="hole cell",n.dataset.index=e;const t=document.createElement("div");t.className="hole-inner",n.appendChild(t),this.element.appendChild(n),this.cells.push(n)}}getRandomPosition(){return Math.floor(Math.random()*this.totalCells)}getCell(e){return this.cells[e]}}class v{constructor(e){this.image=new Image,this.image.src=e,this.image.className="dwarf goblin",this.image.alt="–ì–æ–±–ª–∏–Ω",this.currentPosition=null,this.isVisible=!1,this.isBeingHidden=!1}show(e){if(this.isVisible||this.isBeingHidden)return;this.currentPosition=e,this.isVisible=!0,this.isBeingHidden=!1;const n=document.querySelector(`.cell[data-index="${e}"] .hole-inner`);n&&(this.image.parentElement&&this.image.parentElement.removeChild(this.image),n.appendChild(this.image),this.image.style.opacity="1",this.image.style.transform="scale(1)")}hide(){this.isVisible&&!this.isBeingHidden&&(this.isBeingHidden=!0,this.isVisible=!1,this.image.parentElement&&this.image.parentElement.removeChild(this.image),this.currentPosition=null,this.isBeingHidden=!1)}hideImmediately(){this.image.parentElement&&this.image.parentElement.removeChild(this.image),this.isVisible=!1,this.isBeingHidden=!1,this.currentPosition=null}checkHit(e){return this.isVisible&&!this.isBeingHidden&&e===this.currentPosition}hit(){this.image.classList.add("hit-animation"),setTimeout(()=>{this.image.classList.remove("hit-animation")},300)}getCurrentPosition(){return this.currentPosition}}class y{constructor(e){this.initialTime=e,this.timeLeft=e,this.element=document.getElementById("time"),this.timerInterval=null,this.isRunning=!1}start(e){this.isRunning||(this.isRunning=!0,this.timerInterval=setInterval(()=>{this.timeLeft--,this.updateDisplay(),this.timeLeft<=0&&(this.pause(),e&&e())},1e3))}pause(){this.isRunning&&(this.isRunning=!1,clearInterval(this.timerInterval),this.timerInterval=null)}reset(){this.pause(),this.timeLeft=this.initialTime,this.updateDisplay()}updateDisplay(){this.element&&(this.element.textContent=this.timeLeft)}}class w{constructor(){this.score=0,this.element=document.getElementById("score")}increase(){this.score++,this.animate()}reset(){this.score=0,this.updateDisplay()}getScore(){return this.score}updateDisplay(){this.element&&(this.element.textContent=this.score)}animate(){this.element.classList.add("score-animation"),setTimeout(()=>{this.element.classList.remove("score-animation")},300),this.updateDisplay()}}class T{constructor(){this.cursor=document.createElement("div"),this.cursor.className="hammer-cursor",this.cursor.innerHTML="üî®",this.isAttached=!1}attach(){if(this.isAttached)return;document.body.appendChild(this.cursor),document.addEventListener("mousemove",this.updatePosition.bind(this));const e=document.getElementById("gameBoard");e.addEventListener("mouseenter",()=>{this.show()}),e.addEventListener("mouseleave",()=>{this.hide()}),e.addEventListener("mousedown",()=>{this.hit()}),e.addEventListener("mouseup",()=>{this.reset()}),this.isAttached=!0}updatePosition(e){this.cursor.style.left=`${e.clientX}px`,this.cursor.style.top=`${e.clientY}px`}show(){this.cursor.style.display="block"}hide(){this.cursor.style.display="none",document.body.style.cursor="default"}hit(){this.cursor.classList.add("hammer-hit"),this.cursor.innerHTML="üí•"}reset(){this.cursor.classList.remove("hammer-hit"),this.cursor.innerHTML="üî®"}}class k{constructor(){this.board=new x(4),this.goblin=new v(f),this.scoreManager=new w,this.timer=new y(60),this.cursor=new T,this.missedGoblins=0,this.maxMissed=5,this.gameActive=!1,this.currentGoblinTimeout=null,this.isProcessingClick=!1,this.lastClickTime=0,this.clickDebounceDelay=200,this.gameOver=!1,this.startButton=document.getElementById("startBtn"),this.resetButton=document.getElementById("resetBtn"),this.init()}init(){this.board.render(),this.cursor.attach(),this.setupEventListeners(),this.updateUI()}setupEventListeners(){this.startButton.addEventListener("click",()=>{this.gameActive?this.pause():this.start()}),this.resetButton.addEventListener("click",()=>this.reset()),this.board.element.addEventListener("mousedown",e=>{this.handleBoardMouseDown(e)})}handleBoardMouseDown(e){if(!this.gameActive)return;const n=Date.now();if(n-this.lastClickTime<this.clickDebounceDelay)return void console.log("–°–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä—ã–π –∫–ª–∏–∫, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º");this.lastClickTime=n;const t=e.target.closest(".cell");t&&(e.stopPropagation(),this.handleCellClick(t))}start(){this.gameActive||(this.gameOver&&(this.missedGoblins=0,this.scoreManager.reset(),this.gameOver=!1),this.gameActive=!0,this.startButton.textContent="–ü–∞—É–∑–∞",this.startButton.classList.add("btn-secondary"),this.timer.start(()=>{this.endGame("–í—Ä–µ–º—è –≤—ã—à–ª–æ!")}),this.scheduleNextGoblin())}pause(){this.gameActive&&(this.gameActive=!1,this.startButton.textContent="–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",this.startButton.classList.remove("btn-secondary"),this.timer.pause(),this.clearGoblinTimeout(),this.goblin.hide())}reset(){this.gameActive=!1,this.gameOver=!1,this.missedGoblins=0,this.scoreManager.reset(),this.timer.reset(),this.startButton.textContent="–ù–∞—á–∞—Ç—å –∏–≥—Ä—É",this.startButton.classList.remove("btn-secondary"),this.clearGoblinTimeout(),this.goblin.hide(),this.updateUI()}scheduleNextGoblin(){if(!this.gameActive)return;this.clearGoblinTimeout();const e=500+1e3*Math.random();setTimeout(()=>{this.gameActive&&this.showNextGoblin()},e)}showNextGoblin(){if(!this.gameActive)return;const e=this.board.getRandomPosition();console.log(`–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–æ–±–ª–∏–Ω–∞ –≤ —è—á–µ–π–∫–µ ${e} –≤ ${Date.now()}`),this.goblin.show(e),this.currentGoblinTimeout=setTimeout(()=>{console.log(`–¢–∞–π–º–µ—Ä –ø—Ä–æ–ø—É—Å–∫–∞ —Å—Ä–∞–±–æ—Ç–∞–ª –¥–ª—è ${e} –≤ ${Date.now()}`),this.handleMissedGoblin()},1e3)}handleCellClick(e){const n=parseInt(e.dataset.index);if(!this.goblin.isVisible)return void console.log("–ö–ª–∏–∫ –ø–æ –ø—É—Å—Ç–æ–π —è—á–µ–π–∫–µ - –≥–æ–±–ª–∏–Ω –Ω–µ –≤–∏–¥–µ–Ω");const t=this.goblin.checkHit?this.goblin.checkHit(n):n===this.goblin.getCurrentPosition();console.log("–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ —è—á–µ–π–∫–µ:",n,"–ì–æ–±–ª–∏–Ω –≤:",this.goblin.getCurrentPosition(),"–ü–æ–ø–∞–¥–∞–Ω–∏–µ:",t),t?(console.log("–ü–æ–ø–∞–¥–∞–Ω–∏–µ! –ó–∞—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—á–∫–æ"),this.handleGoblinHit()):(console.log("–ü—Ä–æ–º–∞—Ö - –∫–ª–∏–∫ –º–∏–º–æ –≥–æ–±–ª–∏–Ω–∞"),e.classList.add("miss"),setTimeout(()=>{e.classList.remove("miss")},300))}handleGoblinHit(){console.log("–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è..."),this.clearGoblinTimeout(),this.goblin.hit(),this.scoreManager.increase(),setTimeout(()=>{this.goblin.hide(),this.gameActive&&this.scheduleNextGoblin()},200),this.updateUI()}handleMissedGoblin(){this.goblin.isVisible?(console.log("–ü—Ä–æ–ø—É—â–µ–Ω –≥–æ–±–ª–∏–Ω! –í—Å–µ–≥–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ:",this.missedGoblins+1),this.missedGoblins++,this.goblin.hide(),this.missedGoblins>=this.maxMissed?this.endGame("–ü—Ä–æ–ø—É—â–µ–Ω–æ 5 –≥–æ–±–ª–∏–Ω–æ–≤! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!"):(this.updateUI(),this.gameActive&&this.scheduleNextGoblin())):console.log("–ì–æ–±–ª–∏–Ω —É–∂–µ –Ω–µ –≤–∏–¥–µ–Ω, –ø—Ä–æ–ø—É—Å–∫ –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è")}endGame(e){this.gameActive=!1,this.gameOver=!0,this.clearGoblinTimeout(),this.startButton.textContent="–ù–∞—á–∞—Ç—å –∏–≥—Ä—É",this.startButton.classList.remove("btn-secondary"),this.timer.pause(),this.timer.reset(),this.goblin.hide(),this.updateUI(),setTimeout(()=>{alert(`${e} –í—ã –Ω–∞–±—Ä–∞–ª–∏ ${this.scoreManager.getScore()} –æ—á–∫–æ–≤!`)},100)}clearGoblinTimeout(){this.currentGoblinTimeout&&(clearTimeout(this.currentGoblinTimeout),this.currentGoblinTimeout=null)}updateUI(){this.scoreManager.updateDisplay(),this.timer.updateDisplay();const e=document.getElementById("missed");e&&(e.textContent=`${this.missedGoblins}/${this.maxMissed}`,this.missedGoblins>=3&&(e.style.color="#ff9800"),this.missedGoblins>=4&&(e.style.color="#f44336"),this.missedGoblins<3&&(e.style.color="#2196F3")),console.log("–°—á–µ—Ç:",this.scoreManager.getScore(),"–ü—Ä–æ–ø—É—â–µ–Ω–æ:",this.missedGoblins)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".stats");if(e){const n=document.createElement("div");n.className="stat",n.innerHTML='\n      <span class="stat-label">–ü—Ä–æ–ø—É—â–µ–Ω–æ:</span>\n      <span id="missed" class="stat-value">0/5</span>\n    ',e.insertBefore(n,e.children[2])}new k})})();